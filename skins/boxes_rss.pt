<!-- rss box macros -->
<!-- $Id$ -->

<!-- ============================================================ -->
<metal:block define-macro="rssbox_default">
  <metal:block use-macro="python:path(box['settings']['box_skin'])">
    <metal:block fill-slot="box_title"
      tal:condition="box/box/title"
      tal:content="box/box/title">rss box title</metal:block>
    <metal:block fill-slot="box_body"
                 tal:define="data python:here.rssbox_get_info(box['box'].channel_id)">
      <p tal:condition="data/description|nothing" tal:content="data/description">
	RSS Channel Description</p>
      <ul tal:define="newWindow data/newWindow" tal:repeat="item data/lines">
        <li>
          <a href="." 
	     tal:attributes="href item/url; target python:newWindow and '_blank' or None"
             tal:content="item/title">news item</a>
        </li>
      </ul>
    </metal:block>
  </metal:block>
</metal:block>
